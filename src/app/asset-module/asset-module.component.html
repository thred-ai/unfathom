<div class="w-100 h-100">
  <div class="w-100 h-100">
    <div class="w-100 p-3">
      <div class="w-100 d-flex justify-content-between align-items-center">
        <div class="primary-text fw-bold" style="font-size: 15px">
          {{ asset?.name ?? "Asset" }}
        </div>
        <button
          class="btn bg-orange border-0 rounded fw-bold text-white d-flex justify-content-center px-3 align-content-center py-2"
          (click)="save()"
        >
          Save
        </button>
      </div>
    </div>
    <div class="w-100 h-100 p-3" *ngIf="workflow && asset && assetDetails">
      <div class="w-100 pb-3">
        <p class="w-100 mb-3 primary-text fw-bold">Position</p>

        <div class="w-100 pb-3 row row-cols-3 justify-content-center g-0">
          <div class="col px-1">
            <verticalai-text-field
              [title]="'X'"
              [type]="'number'"
              [range]="{ min: -100000, max: 100000 }"
              [value]="assetDetails['spawn'].x"
              [placeholder]="'Position (X)'"
              (changed)="assetDetails['spawn'].x = $event"
            >
            </verticalai-text-field>
          </div>
          <div class="col px-1">
            <verticalai-text-field
              [title]="'Y'"
              [type]="'number'"
              [range]="{ min: -100000, max: 100000 }"
              [value]="assetDetails['spawn'].y"
              [placeholder]="'Position (Y)'"
              (changed)="assetDetails['spawn'].y = $event"
            >
            </verticalai-text-field>
          </div>
          <div class="col px-1">
            <verticalai-text-field
              [title]="'Z'"
              [type]="'number'"
              [range]="{ min: -100000, max: 100000 }"
              [value]="assetDetails['spawn'].z"
              [placeholder]="'Position (Z)'"
              (changed)="assetDetails['spawn'].z = $event"
            >
            </verticalai-text-field>
          </div>
        </div>
      </div>

      <div class="w-100 pb-3">
        <p class="w-100 mb-3 primary-text fw-bold">Direction (Â°)</p>

        <div class="w-100 pb-3 row row-cols-3 justify-content-center g-0">
          <div class="col px-1">
            <verticalai-text-field
              [title]="'X'"
              [type]="'number'"
              [range]="{ min: -100000, max: 100000 }"
              [value]="assetDetails['direction'].x"
              [placeholder]="'Direction (X)'"
              (changed)="assetDetails['direction'].x = $event"
            >
            </verticalai-text-field>
          </div>
          <div class="col px-1">
            <verticalai-text-field
              [title]="'Y'"
              [type]="'number'"
              [range]="{ min: -100000, max: 100000 }"
              [value]="assetDetails['direction'].y"
              [placeholder]="'Direction (Y)'"
              (changed)="assetDetails['direction'].y = $event"
            >
            </verticalai-text-field>
          </div>
          <div class="col px-1">
            <verticalai-text-field
              [title]="'Z'"
              [type]="'number'"
              [range]="{ min: -100000, max: 100000 }"
              [value]="assetDetails['direction'].z"
              [placeholder]="'Direction (Z)'"
              (changed)="assetDetails['direction'].z = $event"
            >
            </verticalai-text-field>
          </div>
        </div>
      </div>
      <!-- 
  <div class="w-100 pb-3">
    <verticalai-layout-slider
      [value]="(assetDetails['scale'] ?? 1) * 100"
      [title]="'Scale'"
      [min]="1"
      [max]="10000"
      [step]="100"
      [lineFillColor]="'#0A99FF'"
      (valueChange)="assetDetails['scale'] = $event / 100"
    >
    </verticalai-layout-slider>
  </div> -->

      <div class="w-100 pb-3">
        <verticalai-text-field
          [title]="'Scale'"
          [type]="'number'"
          [range]="{ min: 0.01, max: 1000 }"
          [value]="assetDetails['scale']"
          [placeholder]="'Scale'"
          (changed)="assetDetails['scale'] = $event"
        >
        </verticalai-text-field>
      </div>

      <div class="w-100 pb-3">
        <div class="w-100 pb-3">
          <verticalai-select-field
            [title]="'Movement'"
            [value]="assetDetails['movement']['canMount'] ?? false"
            [data]="movementTypes"
            [valueField]="'mountable'"
            [displayField]="'name'"
            (changed)="assetDetails['movement']['canMount'] = $event"
          >
          </verticalai-select-field>
        </div>
      </div>

      <div
        class="w-100 pb-3"
        *ngIf="assetDetails['movement']['canMount'] ?? true"
      >
        <p class="w-100 mb-3 primary-text fw-bold">Physics</p>

        <div class="w-100 pb-3 row row-cols-2 justify-content-center g-0">
          <div class="col px-1">
            <verticalai-text-field
              [title]="'Speed (m/s)'"
              [type]="'number'"
              [range]="{ min: 1, max: 1000 }"
              [value]="assetDetails['movement']['speed'] ?? 2"
              [placeholder]="'Speed (m/s)'"
              (changed)="assetDetails['movement']['speed'] = $event"
            >
            </verticalai-text-field>
          </div>
          <div class="col px-1">
            <verticalai-text-field
              [title]="'Gravity Level'"
              [type]="'number'"
              [range]="{ min: 0, max: 100 }"
              [value]="assetDetails['movement']['gravity'] ?? 9.8"
              [placeholder]="'Gravity (m/s)'"
              (changed)="assetDetails['movement']['gravity'] = $event"
            >
            </verticalai-text-field>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
